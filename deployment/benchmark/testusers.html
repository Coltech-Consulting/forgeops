<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Test User Generation :: ForgeRock DevOps Documentation</title>
    <link rel="canonical" href="https://ea.forgerock.com/docs/forgeops/forgeops/deployment/benchmark/testusers.html">
    <link rel="prev" href="sw.html">
    <link rel="next" href="authrate.html">
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="https://cdn.forgerock.com/docs-ui/adoc/dev/vendor.antora-styles.css">
    <link rel="stylesheet" href="https://cdn.forgerock.com/docs-ui/adoc/dev/forgerock.antora-styles.css">
  </head>
  <body class="article">
<backstage-site-header active-item="docs"></backstage-site-header>
<div class="body">
<div class="nav-container" data-component="forgeops" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ForgeOps</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text  nav-item-toggle">Read This First</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../start/start-here.html">Start Here</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../start/start-here-skills.html">Assess Your Skill Level</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../forgeops.html">About the <code>forgeops</code> Repository (Pre-Release)</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <span class="nav-text  nav-item-toggle">Cloud Developer's Kit (CDK)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/overview.html">Overview</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/intro.html">About the CDK</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text  nav-item-toggle">CDK Architecture</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../cdk/minikube/concepts.html">On Minikube</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../cdk/cloud/concepts.html">On a Shared Cluster</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text  nav-item-toggle">Environment Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-item-toggle">
    <a class="nav-link" href="../../cdk/minikube/setup/overview.html">Minikube</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdk/minikube/setup/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdk/minikube/setup/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdk/minikube/setup/vm.html">Minikube Virtual Machine</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdk/minikube/setup/namespace.html">Namespace</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdk/minikube/setup/hostname.html">Hostname Resolution</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdk/minikube/setup/docker.html">Minikube&#8217;s Docker Engine</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-item-toggle">
    <a class="nav-link" href="../../cdk/cloud/setup/overview.html">Shared Cluster</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text  nav-item-toggle">GKE</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/clusterinfo.html">Cluster Details</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/context.html">Context for the Shared Cluster</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/namespace.html">Namespace</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/hostname.html">Hostname Resolution</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/gke/docker.html"><code>docker push</code> Setup</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text  nav-item-toggle">EKS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/clusterinfo.html">Cluster Details</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/context.html">Context for the Shared Cluster</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/namespace.html">Namespace</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/hostname.html">Hostname Resolution</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/eks/docker.html"><code>docker push</code> Setup</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text  nav-item-toggle">AKS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/clusterinfo.html">Cluster Details</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/context.html">Context for the Shared Cluster</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/namespace.html">Namespace</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/hostname.html">Hostname Resolution</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdk/cloud/setup/aks/docker.html"><code>docker push</code> Setup</a>
    
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/deploy.html">Deployment</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/access.html">UI and API Access</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/develop.html">Custom Docker Image Development</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/troubleshoot.html">CDK Troubleshooting</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdk/shutdown.html">Shutdown and Removal</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <span class="nav-text  nav-item-toggle">Cloud Deployment Model (CDM)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdm/overview.html">Overview</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdm/intro.html">About the CDM</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../cdm/architecture.html">CDM Architecture</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text  nav-item-toggle">CDM Cookbook</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text  nav-item-toggle">Environment Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-item-toggle">
    <a class="nav-link" href="../../cdm/gke/setup/setup-env.html">GKE</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/project.html">Google Cloud Project Setup</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/cluster.html">Kubernetes Cluster Creation</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/secret-agent.html">Secret Agent Operator</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/nginx.html">NGINX Ingress Controller</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/cert-manager.html">Certificate Manager</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/prometheus.html">Prometheus, Grafana, and Alertmanager</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/gke/setup/push.html"><span class="command"><code>docker push</code></span> Setup</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-item-toggle">
    <a class="nav-link" href="../../cdm/eks/setup/setup-env.html">EKS</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/architecture.html">Architecture Overview</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/aws-env.html">AWS Environment Setup</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/cluster.html">Kubernetes Cluster Creation</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/secret-agent.html">Secret Agent Operator</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/nginx.html">NGINX Ingress Controller</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/cert-manager.html">Certificate Manager</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/prometheus.html">Prometheus, Grafana, and Alertmanager</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/eks/setup/push.html"><span class="command"><code>docker push</code></span> Setup</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-item-toggle">
    <a class="nav-link" href="../../cdm/aks/setup/setup-env.html">AKS</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/subscription.html">Azure Subscription Setup</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/forgeops.html"><code>forgeops</code> Repository</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/cluster.html">Kubernetes Cluster Creation</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/secret-agent.html">Secret Agent Operator</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/nginx.html">NGINX Ingress Controller</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/cert-manager.html">Certificate Manager</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/prometheus.html">Prometheus, Grafana, and Alert Manager</a>
    
  </li>
  <li class="nav-item" data-depth="4">
    
    <a class="nav-link" href="../../cdm/aks/setup/push.html"><span class="command"><code>docker push</code></span> Setup</a>
    
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../cdm/deploy.html">CDM Deployment</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../cdm/access.html">UI and API Access</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text  nav-item-toggle">CDM Removal</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdm/gke/remove.html">GKE</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdm/eks/remove.html">EKS</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../../cdm/aks/remove.html">AKS</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../../cdm/next-steps.html">Next Steps</a>
    
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <span class="nav-text  nav-item-toggle">Deployment Topics</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../overview.html">Overview</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../base-docker-images.html">Base Docker Images</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text  nav-item-toggle">Backup and Restore</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../backup-restore.html">Overview</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text  nav-item-toggle">Cloud Storage Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../backup/gcs-backup.html">On Google Cloud</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../backup/aws-backup.html">On AWS</a>
    
  </li>
  <li class="nav-item" data-depth="3">
    
    <a class="nav-link" href="../backup/azure-backup.html">On Azure</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../backup/backup-schedule.html">Enable DS Backup Schedules</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="../backup/backup-restore.html">CDM Automatic Restore</a>
    
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../monitoring.html">Monitoring</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../security.html">Security</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text  nav-item-toggle">CDM Benchmarks</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="overview.html">Overview</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="intro.html">About CDM Benchmarking</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="sw.html">Third-Party Software</a>
    
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    
    <a class="nav-link" href="testusers.html">Test User Generation</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="authrate.html">Authentication Rate</a>
    
  </li>
  <li class="nav-item" data-depth="2">
    
    <a class="nav-link" href="oauth2.html">OAuth 2.0 Authorization Code Flow</a>
    
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../rn/rn.html">DevOps Release Notes</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../glossary.html">Glossary</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../support.html">Support From ForgeRock</a>
    
  </li>
  <li class="nav-item" data-depth="1">
    
    <a class="nav-link" href="../../legal.html">Legal Notices</a>
    
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ForgeOps</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ForgeOps</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">

  <div class="content">
<article class="doc">
<h1 class="page">Test User Generation</h1>
<div class="paragraph">
<p>Before you can test the performance of a CDM deployment, you must
generate test users, provision the CDM userstores, and prime the
directory servers.</p>
</div>
<div class="openblock procedure">
<div class="title">Provision the Userstores with Test Users</div>
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure your Kubernetes context is set to the cluster in which the
CDM is deployed, and that <code>prod</code> is the current namespace.</p>
</li>
<li>
<p>Obtain the password for the directory superuser, <code>uid=admin</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>cd /path/to/forgeops/bin</strong>
$ <strong>./print-secrets.sh dsadmin</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Make a note of this password. You&#8217;ll need it for subsequent steps in this
procedure.</p>
</div>
</li>
<li>
<p>Change to the directory that contains the source for the <code>dsutil</code> Docker
container:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>cd /path/to/forgeops/docker/7.0/ds/dsutil</strong></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll generate test users from a pod you create from the <code>dsutil</code> container.</p>
</div>
</li>
<li>
<p>Build and push the <code>dsutil</code> Docker container to your container registry, and
then run the container.</p>
<div class="paragraph">
<p>The <em>my-registry</em> parameter varies, depending on the location of your registry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>docker build --tag=<em>my-registry</em>/dsutil .</strong>
$ <strong>docker push <em>my-registry</em>/dsutil</strong>
$ <strong>kubectl run -it dsutil --image=<em>my-registry</em>/dsutil --restart=Never -- bash</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The <span class="command"><code>kubectl run</code></span> command creates the <code>dsutil</code> pod, and leaves you in
a shell that lets you run commands in the pod.</p>
</div>
</li>
<li>
<p>Generate the test users&#8212;&#8203;1,000,000 users for a small CDM cluster,
10,000,000 for a medium cluster, and 100,000,000 for a large cluster. Run these
substeps from the <code>dsutil</code> pod&#8217;s shell:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make an LDIF file that has the number of user entries for your cluster size:</p>
<div class="paragraph">
<p>For example, for a small cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>/opt/opendj/bin/makeldif -o data/entries.ldif \
 -c numusers=1000000 config/MakeLDIF/ds-idrepo.template</strong>
Processed 1000 entries
Processed 2000 entries
Processed 3000 entries
. . .
Processed 1000000 entries
LDIF processing complete. 1000003 entries written</pre>
</div>
</div>
<div class="paragraph">
<p>When the Cloud Deployment Team ran the <span class="command"><code>makeldif</code></span> script, it took
approximately:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>30 seconds to run on a small cluster.</p>
</li>
<li>
<p>xx minutes to run on a medium cluster (details to be provided for CLOUD-2635).</p>
</li>
<li>
<p>xx minutes to run on a large cluster (details to be provided for CLOUD-2635).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create the user entries in the directory:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>/opt/opendj/bin/ldapmodify \
 -h ds-idrepo-0.ds-idrepo -p 1389 --useStartTls --trustAll \
 -D "uid=admin" -w <em>directory-superuser-password</em> --noPropertiesFile \
 --no-prompt --continueOnError --numConnections 10 data/entries.ldif</strong></pre>
</div>
</div>
<div class="paragraph">
<p><code>ADD operation successful</code> messages appear as user entries are added to the
directory.</p>
</div>
<div class="paragraph">
<p>When the Cloud Deployment Team ran the <span class="command"><code>ldapmodify</code></span> command, it
took approximately:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>15 minutes to run on a small cluster.</p>
</li>
<li>
<p>xx minutes to run on a medium cluster (details to be provided for CLOUD-2635).</p>
</li>
<li>
<p>xx minutes to run on a large cluster (details to be provided for CLOUD-2635).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Leave the <code>dsutil</code> pod&#8217;s shell open. You&#8217;ll use it to run the DS
benchmark tests.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Prime the directory servers:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open a new terminal window or tab.</p>
<div class="paragraph">
<p>Use this terminal&#8212;&#8203;not the terminal window running the <code>dsutil</code> pod&#8217;s shell&#8212;&#8203;for
the remaining substeps in this step.</p>
</div>
</li>
<li>
<p>Prime the directory server running in the <code>ds-idrepo-0</code> pod:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Get a shell that lets you run commands in the <code>id-dsrepo-0</code> pod:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>kubectl exec ds-idrepo-0 -it -- bash</strong></pre>
</div>
</div>
</li>
<li>
<p>Run the following command:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ldapsearch -D "uid=admin" -w <em>directory-superuser-password</em> \
 -p 1636 -b "ou=identities"  uid=user.*  | grep dn: | wc -l</strong>
10000000</pre>
</div>
</div>
</li>
<li>
<p>Exit from the <code>id-dsrepo-0</code> pod&#8217;s shell:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>exit</strong></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Prime the directory server running in the <code>ds-idrepo-1</code> pod.</p>
</li>
<li>
<p>Prime the directory server running in the <code>ds-idrepo-2</code> pod.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<h2 id="next_step" class="discrete">Next Step</h2>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <a href="intro.html" class="page">Become familiar with CDM benchmarking</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="sw.html" class="page">Install third-party software</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="#">Generate test users</a></p>
</li>
<li>
<p><i class="fa fa-square-o"></i> <mark><a href="authrate.html" class="page">Benchmark the authentication rate</a></mark></p>
</li>
<li>
<p><i class="fa fa-square-o"></i> <a href="oauth2.html" class="page">Benchmark the OAuth 2.0 authorization code flow</a></p>
</li>
</ul>
</div>
<nav class="pagination">
  <span class="prev"><a href="sw.html">Third-Party Software</a></span>
  <span class="next"><a href="authrate.html">Authentication Rate</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
  <div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">ForgeOps</a></li>
    <li>Deployment Topics</li>
    <li>CDM Benchmarks</li>
    <li><a href="testusers.html">Test User Generation</a></li>
  </ul>
</nav>
</div>
</main>
</div>
<backstage-site-footer></backstage-site-footer>
<script src="https://cdn.forgerock.com/docs-ui/adoc/dev/vendor.antora-scripts.js"></script>
<script src="https://cdn.forgerock.com/docs-ui/adoc/dev/forgerock.antora-scripts.js"></script>
  </body>
</html>
